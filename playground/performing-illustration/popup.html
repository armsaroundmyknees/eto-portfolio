<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Controller</title>
    <style>
      body {
        font-family: monospace;
      }
      .box {
        border: 1px solid #000;
        padding: 10px;
      }
    </style>
  </head>
  <body>
    <div class="box">
      trailBrushMotion:
      <u id="trailBrushValue"></u>
    </div>

    <script>
      const valueEl = document.getElementById("trailBrushValue");

      function sync() {
        if (!window.opener || window.opener.closed) return;
        valueEl.textContent =
          window.opener.trailBrushMotion.usedConfig;
      }

      // sync pertama
      sync();

      // ðŸ” auto sync (console-friendly)
      let lastValue;
      setInterval(() => {
        const v =
          window.opener?.trailBrushMotion?.usedConfig;
        if (v !== lastValue) {
          lastValue = v;
          sync();
        }
      }, 100);

      // ðŸ”¥ alias console popup
      window.config = window.opener.trailBrushMotion;

      /*
        Coba di console POPUP:
        config.usedConfig = "butterfly"
        config.usedConfig = "rain"
      */
    </script>
  </body>
</html>
